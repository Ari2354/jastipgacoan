<!DOCTYPE html>
<html lang="id" data-theme="light"> <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Login Admin - Jastip Gacoan</title> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" /> <style>
        /* CSS Variables for Themes (Sama seperti file CSS lainnya) */
        :root {
            /* Light Theme Colors (Based on Gacoan Logo Red) */
            --background-color: #f8f9fa; /* Light grey background */
            --text-color: #333333; /* Dark grey for text */
            --primary-color: #E53935; /* Gacoan-like Red */
            --secondary-color: #757575; /* Medium grey */
            --accent-color: #FFA000; /* Orange/Yellow from logo */
            --card-background: #ffffff; /* White card background */
            --card-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); /* Shadow for container */
            --section-title-color: #E53935; /* Red title */
            --header-background: #E53935; /* Red header */
            --header-text-color: white;
            --footer-background: #E53935; /* Red footer */
            --footer-text-color: white;
        }

        /* Dark Theme Colors */
        html[data-theme="dark"] {
            --background-color: #212529; /* Dark background */
            --text-color: #e0e0e0; /* Light grey text */
            --primary-color: #EF5350; /* Slightly brighter red for dark mode contrast */
            --secondary-color: #BDBDBD; /* Lighter grey */
            --accent-color: #FFB300; /* Slightly brighter orange/yellow */
            --card-background: #343a40; /* Dark card background */
            --card-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); /* Darker shadow */
            --section-title-color: #EF5350; /* Red title */
            --header-background: #0d0d0d; /* Almost black header */
            --header-text-color: #e0e0e0; /* Light text */
            --footer-background: #0d0d0d; /* Almost black footer */
            --footer-text-color: #BDBDBD; /* Secondary grey text */
        }

        /* --- Global Styles --- */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            display: flex; /* Use flexbox to push footer to bottom */
            flex-direction: column;
            min-height: 100vh; /* Minimum height of viewport */
        }

        main {
             flex-grow: 1; /* Allow main content to grow */
        }

        /* --- Login Container --- */
        .login-container {
            max-width: 450px;
            margin: 80px auto; /* Increased top margin */
            padding: 40px; /* Increased padding */
            background-color: var(--card-background); /* Background based on theme */
            border-radius: 15px; /* Slightly smaller border-radius */
            box-shadow: var(--card-shadow); /* Shadow based on theme */
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .login-container h2 {
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700; /* Use weight 700 */
            color: var(--section-title-color); /* Color based on theme */
            position: relative;
            padding-bottom: 10px;
        }

         .login-container h2::after { /* Underline effect */
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            height: 4px;
            width: 60px;
            background-color: var(--accent-color); /* Accent color underline */
            border-radius: 2px;
         }


        /* --- Form Elements --- */
        .form-label {
             color: var(--text-color); /* Label color based on theme */
             font-weight: 600;
             margin-bottom: 8px;
        }

        .form-label i {
             margin-right: 8px;
             color: var(--primary-color); /* Icon color based on theme */
        }

        .form-control {
            border-radius: 10px; /* Slightly smaller border-radius */
            padding: 12px 15px; /* Adjust padding */
            border: 1px solid #ced4da; /* Default light border */
            background-color: var(--background-color); /* Input background based on body background */
            color: var(--text-color); /* Input text color */
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }
         html[data-theme="dark"] .form-control {
              border-color: #555; /* Darker border in dark mode */
              background-color: #444; /* Darker background in dark mode */
         }


        .form-control:focus {
            border-color: var(--primary-color); /* Highlight color */
            box-shadow: 0 0 8px rgba(var(--primary-color-rgb), 0.5); /* Glow effect (requires RGB variable) */
            outline: none; /* Remove default outline */
             background-color: var(--background-color); /* Keep background consistent on focus */
        }
         /* Define RGB variables for glow effect (approximate) */
        :root { --primary-color-rgb: 229, 57, 53; } /* E53935 */
        html[data-theme="dark"] { --primary-color-rgb: 239, 83, 80; } /* EF5350 */


        /* --- Buttons --- */
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
            padding: 12px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px; /* Match form control border-radius */
            transition: background-color 0.3s ease, border-color 0.3s ease, opacity 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #D32F2F; /* Slightly darker red */
            border-color: #D32F2F; /* Slightly darker red */
            color: white;
            opacity: 0.95;
        }


        /* --- Header --- */
         header {
            background-color: var(--header-background); /* Background based on theme */
            color: var(--header-text-color); /* Text color based on theme */
            padding: 20px 0; /* Adjust padding */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease, color 0.3s ease;
         }
         header h1 {
             color: var(--header-text-color); /* Ensure h1 color is correct */
             font-weight: 600;
         }


        /* --- Footer --- */
        footer {
            margin-top: auto; /* Push footer to the bottom */
            padding: 20px 0; /* Adjust padding */
            background-color: var(--footer-background); /* Background based on theme */
            color: var(--footer-text-color); /* Text color based on theme */
            text-align: center;
            /* Removed rounded corners to match index.html footer */
            border-top-left-radius: 0;
            border-top-right-radius: 0;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* --- Alert Message --- */
         #loginMessage {
             border-radius: 8px; /* Match other elements */
             font-weight: 600;
         }


        /* --- Theme Toggle Button (Sama seperti file lainnya) --- */
        #theme-toggle {
            position: fixed;
            bottom: 20px; /* Jarak dari bawah */
            right: 20px; /* Jarak dari kanan */
            z-index: 1030;
        }

        #theme-toggle-button {
            background-color: var(--card-background);
            border-color: var(--secondary-color);
            color: var(--text-color);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, transform 0.2s ease;
            border-radius: 50%; /* Make it round */
            box-shadow: var(--card-shadow); /* Add shadow */
            cursor: pointer; /* Indicate it's clickable */
        }

        #theme-toggle-button:hover {
             background-color: var(--secondary-color);
             color: var(--card-background);
             border-color: var(--secondary-color);
             transform: scale(1.1);
        }


    </style>
    <!-- Tambahkan CDN Supabase JS di <head> jika belum ada -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>

    <div id="theme-toggle">
        <button type="button" class="btn btn-secondary" id="theme-toggle-button" aria-label="Toggle theme">
            <i class="bi bi-moon-fill"></i>
        </button>
    </div>


    <header>
        <div class="container text-center">
            <h1 class="h4 mb-0"><i class="fas fa-users me-2"></i>Login Area Admin</h1> </div>
    </header>

    <main>
        <div class="login-container">
            <h2><i class="fas fa-lock"></i> Akses Admin</h2> <form id="loginForm">
                <div class="mb-3">
                    <label for="username" class="form-label"><i class="fas fa-user"></i> Email (Gmail)</label>
                    <input type="text" class="form-control" id="username" name="username" required autofocus /> </div>
                <div class="mb-3">
                    <label for="password" class="form-label"><i class="fas fa-key"></i> Kata Sandi</label> <input type="password" class="form-control" id="password" name="password" required />
                </div>

                <button type="submit" class="btn btn-primary w-100 mt-3 btn-login"><i class="fas fa-sign-in-alt"></i> Masuk</button> </form>
            <div id="loginMessage" class="alert mt-3" role="alert" style="display:none;"></div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="row">
    
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>Jastip Gacoan</h5>
                    <p>
                        Layanan jastip terpercaya untuk pesanan Gacoan favorit Anda.
                        Kami memastikan pesanan Anda sampai dengan cepat dan aman.
                    </p>
                    </div>
    
                <div class="col-md-4 mb-4 mb-md-0">
                    <h5>Tautan Cepat</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-decoration-none">Beranda</a></li>
                        <li><a href="#" class="text-decoration-none">Menu & Harga</a></li>
                        <li><a href="#" class="text-decoration-none">Cara Pesan</a></li>
                        <li><a href="#" class="text-decoration-none">Area Layanan</a></li>
                        <li><a href="#" class="text-decoration-none">Hubungi Kami</a></li>
                    </ul>
                </div>
    
                <div class="col-md-4">
                    <h5>Hubungi Kami & Ikuti Kami</h5>
                    <p>
                        <i class="bi bi-envelope-fill"></i> Email: aryfaidz99@gmail.com<br>
                        <i class="bi bi-telephone-fill"></i> Telepon: +62-85-156-226-837 (Opsional)
                    </p>
                    <div>
                        <a href="#" class="me-3 text-decoration-none">
                            <i class="bi bi-instagram"></i> Instagram
                        </a>
                        <a href="#" class="me-3 text-decoration-none">
                            <i class="bi bi-facebook"></i> Facebook
                        </a>
                        <a href="#" class="text-decoration-none">
                            <i class="bi bi-whatsapp"></i> WhatsApp
                        </a>
                    </div>
                </div>
    
            </div>
    
            <hr class="my-4" style="border-color: var(--accent-color);">
    
            <div class="row">
                <div class="col-12 text-center">
                    <p class="mb-0">&copy; 2025 Jastip Gacoan. Hak cipta dilindungi.</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const SUPABASE_URL = 'https://aniulxoqzwnrxtdmpbmv.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFuaXVseG9xenducnh0ZG1wYm12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0MDA4MjQsImV4cCI6MjA2Mzk3NjgyNH0.NOi9RVyGAR4jTI_kXh7zk3aI1VIPyah8MdFT4KcZnTQ';
        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        document.addEventListener('DOMContentLoaded', function () {
            // --- Theme Toggle Functionality (Sama seperti script.js di index.html) ---
            const themeToggleButton = document.getElementById('theme-toggle-button');
            const htmlElement = document.documentElement; // Get the <html> element

            // Check for saved theme preference in localStorage
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                htmlElement.setAttribute('data-theme', savedTheme);
                updateThemeButtonIcon(savedTheme);
            } else {
                // Default to light theme if no preference saved
                htmlElement.setAttribute('data-theme', 'light');
                 localStorage.setItem('theme', 'light'); // Save default preference
                updateThemeButtonIcon('light');
            }

            // Add click listener to the toggle button
            themeToggleButton.addEventListener('click', toggleTheme);

            function toggleTheme() {
                const currentTheme = htmlElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';

                htmlElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme); // Save preference
                updateThemeButtonIcon(newTheme);
            }

            function updateThemeButtonIcon(theme) {
                const icon = themeToggleButton.querySelector('i.bi');
                if (theme === 'dark') {
                    icon.classList.remove('bi-moon-fill');
                    icon.classList.add('bi-brightness-high-fill'); // Icon for light mode
                } else {
                    icon.classList.remove('bi-brightness-high-fill');
                    icon.classList.add('bi-moon-fill'); // Icon for dark mode
                }
            }
            // --- End Theme Toggle Functionality ---


            // --- Login Form Logic ---
            const loginForm = document.getElementById('loginForm');
            const loginMessage = document.getElementById('loginMessage');

            loginForm.addEventListener('submit', async function (e) {
                e.preventDefault();

                const email = document.getElementById('username').value.trim();
                const password = document.getElementById('password').value.trim();
                const { data, error } = await supabase.auth.signInWithPassword({ email, password });

                if (error) {
                    showMessage('Email atau password salah!', 'danger');
                } else {
                    showMessage('Login berhasil! Mengalihkan ke halaman admin...', 'success');
                    localStorage.setItem('isLoggedIn', 'true');
                    setTimeout(() => {
                        window.location.href = 'admin.html';
                    }, 1200); // Tampilkan alert sukses sebentar sebelum redirect
                }
            });

            function showMessage(message, type) {
                loginMessage.style.display = 'block';
                loginMessage.classList.remove('alert-success', 'alert-info', 'alert-warning', 'alert-danger');
                loginMessage.classList.add('alert', 'mt-3', 'alert-' + type);
                loginMessage.textContent = message;
            }
            // --- End Login Form Logic ---
        });
    </script>
</body>
</html>